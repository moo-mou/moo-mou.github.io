<!DOCTYPE html>
<html lang="en-us">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta content="keyword 1, keyword 2, keyword 3" name="keywords">
<meta content="paul" name="author">
<meta property="og:title" content=" - moomou">
<meta property="og:url" content="https://moomou.github.io/notes/conv_notes/">
<meta property="og:description" content="lorem">
<meta property="og:type" content="website" />
<title> | moomou</title>

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>
<link rel="stylesheet" href="https://moomou.github.io/css/style.css">
<link rel="shortcut icon" href="https://moomou.github.io/wave.ico">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/github.min.css">

</head>

<body>
<section class="section">
  <div class="container">
    <nav class="nav">
      <div class="nav-left">
        <a class="nav-item" href="https://moomou.github.io"><h1 class="title is-4">moomou</h1></a>
        
          <a class="nav-item" href="/notes/ml_notes"><h1 class="title is-6">ml notes</h1></a>
        
          <a class="nav-item" href="/notes/tools"><h1 class="title is-6">tools</h1></a>
        
      </div>
      <div class="nav-right">
        <nav class="nav-item level is-mobile">
          
          <a class="level-item" href="/resume" target="_blank">
            <span class="icon">
              <i class="fa fa-id-card-o"></i>
            </span>
          </a>
          
          <a class="level-item" href="https://github.com/moomou" target="_blank">
            <span class="icon">
              <i class="fa fa-github"></i>
            </span>
          </a>
          
        </nav>
      </div>
    </nav>
  </div>
</section>

<section class="section">
  <div class="container">
    <h1 class="title"></h1>
    <h2 class="subtitle is-5">January 1, 0001 by paul</h2>
    
    <div class="content">
      

<p>Convolution Math
i,k, s, p</p>

<p>#Re1: For any i, k, s = 1, p = 0
o = (i - k) + 1
#Rel2: For any i, k, p, s = 1
o = (i + 2p - k) + 1</p>

<p>#Half Padding or Same Padding - ie maintains same size
For s = 1, choose k and p s.t
k = 2n + 1, n e= N
p = floor(k/2) = n
o = i + 2p - k + 1 = i + 2p - (k + 1) = i + 2n - 2n = i</p>

<p>#Full Padding - increases output size
For s = 1, choose k and p s.t
p = k - 1
o = i + 2p - k + 1 = i + 2(k - 1) -k + 1 = i + k - 1</p>

<h1 id="no-zero-padding-non-unit-strides">No zero padding non-unit strides</h1>

<p>For any i, k, s, and p = 0
o = floor((i - k) / s) + 1</p>

<h1 id="zero-padding-non-unit-strides">Zero padding, non unit strides</h1>

<p>For any i, k, p, s
o = floor((i + 2p - k) / s) + 1</p>

<p>Devconvolution Math
#Rel1
Given a convolution s = 1, p = 0, k, the transposed convolution is
k&rsquo; = k
s&rsquo; = s
p&rsquo; = k - 1
o&rsquo; = i&rsquo; + (k - 1)</p>

<p>#Zero padding, unit stride, transposed
Convolution with s = 1, k, p, transposed convolution is
k&rsquo; = k
s&rsquo; = s
p&rsquo; = k - p - 1
o&rsquo; = i&rsquo; + (k - 1) - 2p</p>

<p>#Half padding, transposed
Convolution with k = 2n + 1, s = 1, p = floor(k/2), transposed convolution is
k&rsquo; = k
s&rsquo; = s
p&rsquo; = p
o&rsquo; = i&rsquo; + (k - 1) - 2p
o&rsquo; = i&rsquo; + (2n + 1 - 1) - 2n
o&rsquo; = i&rsquo;</p>

<p>#Full padding, transposed
Convolution with s = 1, k, p = k - 1, transposed convolution is
k&rsquo; = k
s&rsquo; = s
p&rsquo; = 0
o&rsquo; = i&rsquo; + (k - 1) - 2p
o&rsquo; = i&rsquo; - (k - 1)</p>

<p>#No zero padding (p = 0), s &gt; 1, transposed
Assume i - k is multiple of s
Convolution with p = 0, k, s, transposed convolution is
k&rsquo; = k
s &lsquo; = 1
p&rsquo; = k - 1
i&rdquo; = s - 1 zero padding inserted between inputs
o&rsquo; = s(i&rsquo; - 1) + k</p>

<p>#Zero padding, s &gt; 1, transposed
Assume i + 2p - k is multiple of s
k&rsquo; = k
s&rsquo; = 1
p&rsquo; = k - p - 1
i&rdquo; = s - 1 zero padding inserted between inputs
o&rsquo; = s(i&rsquo; - 1) + k - 2p</p>

<p>#Zero padding, s &gt; 1, transposed
Without assuming i + 2p - k is multiple of s, and provided a = (i + 2p - k) % s
o&rsquo; = s(i&rsquo; - 1) + a + k - 2p</p>

    </div>
    
        <div class="nav-left">
    <a class="nav-item" href="https://twitter.com/home?status= - https%3a%2f%2fmoomou.github.io%2fnotes%2fconv_notes%2f" title="Tweet this" target="_blank"><span class="fa fa-twitter fa-2x"></span></a>
    <a class="nav-item" href="http://www.reddit.com/submit?url=https%3a%2f%2fmoomou.github.io%2fnotes%2fconv_notes%2f&title=" title="Share on Reddit" target="_blank"><span class="fa fa-reddit-alien fa-2x" aria-hidden="true"></span></a>
    </div>

    
  </div>
</section>


<section class="section">
  <div class="container has-text-centered">
    <p>&copy; 2017 | Follow on <a href="https://github.com/moomou" target="_blank">Github</a></p>
  </div>
</section>


<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.11.0/highlight.min.js" integrity="sha256-+bhVTaRmJ/c07eV80nU8gD2cBBF0rYkf1txqXlrbvb0=" crossorigin="anonymous"></script>

<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.11.0/languages/go.min.js"></script>
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js"></script>

<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.11.0/languages/dockerfile.min.js"></script>
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js"></script>

<script>hljs.initHighlightingOnLoad();</script>


<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'trackingcode', 'auto');
ga('send', 'pageview');
</script>
<script async src='//www.google-analytics.com/analytics.js'></script>



</body>
